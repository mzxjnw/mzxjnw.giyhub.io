<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>深切缅怀伟大的领袖毛主席</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入图标库 -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* 字体导入 */
        @import url('https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Serif+SC:wght@400;700&display=swap');

        body {
            margin: 0;
            overflow: hidden;
            background-color: #0f0f0f;
            color: #fff;
            font-family: 'Noto Serif SC', serif;
            /* 禁止触摸时的默认行为，提升体验 */
            touch-action: none; 
        }

        /* 动态背景 Canvas */
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(circle at center, #5e0a0a 0%, #1a0000 100%);
        }

        /* 3D 场景容器 */
        .scene-container {
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1200px;
            overflow: hidden;
        }

        /* 核心内容区域 - 强制横向布局 */
        .scene-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 40px;
            transform-style: preserve-3d;
            transition: transform 0.1s ease-out;
            /* 关键：确保内容不换行，保持固定宽度以便缩放 */
            width: max-content;
            padding: 20px;
        }

        /* 侧边护卫列 */
        .guard-column {
            display: flex;
            flex-direction: column;
            gap: 15px;
            z-index: 10;
            flex-shrink: 0; /* 防止被挤压 */
        }

        /* 纪念碑列 */
        .monument-column {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: 520px;
            width: 120px;
            z-index: 10;
            flex-shrink: 0; /* 防止被挤压 */
        }

        /* 3D 倾斜效果 */
        .col-left {
            transform: rotateY(25deg) translateZ(50px);
        }
        
        .col-right {
            transform: rotateY(-10deg) translateZ(50px); 
        }

        /* 卫士卡片样式 */
        .guard-card {
            width: 140px;
            height: 160px;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(5px);
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.5);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .guard-card:hover {
            border-color: rgba(255, 215, 0, 1);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.4);
            transform: scale(1.05);
        }

        /* 兵种配色与标识 */
        .army { border-bottom: 4px solid #486B00; } 
        .air { border-bottom: 4px solid #4B9CD3; } 
        .navy { border-bottom: 4px solid #FFFFFF; }  

        .guard-icon {
            font-size: 2.5rem;
            margin-bottom: 8px;
            background: linear-gradient(135deg, #ffd700, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.5));
        }

        .guard-label {
            font-size: 1.1rem;
            font-weight: bold;
            letter-spacing: 2px;
            color: #ddd;
            font-family: 'Ma Shan Zheng', cursive;
        }

        /* 纪念碑主体样式 */
        .monument-cap {
            height: 20px;
            width: 100px;
            background: #ffd700; 
            border-radius: 4px 4px 0 0;
            box-shadow: 0 -5px 10px rgba(255, 215, 0, 0.5);
            position: relative;
            z-index: 1;
        }
        /* 纪念碑顶部的红星 */
        .monument-cap .fa-star {
            color: #f00;
            font-size: 1.2rem;
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            filter: drop-shadow(0 0 5px rgba(255, 0, 0, 0.8));
        }
        .monument-shaft {
            height: 90%;
            width: 80px;
            background: linear-gradient(to bottom, #777, #444, #333); 
            border: 1px solid #999;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        /* 纪念碑上的竖排题词 - 保持毛体 */
        .monument-inscription {
            font-family: 'Ma Shan Zheng', cursive;
            color: #ffd700;
            font-size: 2rem; 
            padding: 10px 0;
            writing-mode: vertical-rl; 
            letter-spacing: 0.5rem; 
            text-shadow: 0 0 5px rgba(255, 215, 0, 0.5);
        }

        /* --- 纪念碑底座修改：五星红旗底色 + 金色文字 --- */
        .monument-base {
            height: 40px;
            width: 120px;
            background: #de2910; /* 五星红旗红 */
            border-top: 5px solid #ffde00; /* 金色边框 */
            box-shadow: inset 0 5px 10px rgba(0,0,0,0.5);
            margin-top: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .base-text {
            color: #ffde00; /* 金色文字 */
            font-size: 0.8rem;
            font-weight: bold;
            font-family: 'Noto Serif SC', serif;
            letter-spacing: 1px;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }

        /* 中间画像区域 */
        .main-portrait-wrapper {
            position: relative;
            width: 350px; 
            height: 480px; 
            z-index: 20;
            transform: translateZ(100px); 
            box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            border-radius: 10px;
            background: #000;
            margin-bottom: 70px;
            flex-shrink: 0; /* 防止被挤压 */
        }

        /* 献花按钮样式 */
        .flower-button {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            padding: 8px 20px;
            background: linear-gradient(to right, #cc0000, #ff4444);
            color: white;
            border: 2px solid #ffdd00;
            border-radius: 9999px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
            transition: all 0.2s;
            font-family: 'Noto Serif SC', serif;
            letter-spacing: 1px;
            font-size: 1.1rem;
            z-index: 30;
            white-space: nowrap; /* 防止文字换行 */
        }
        .flower-button:hover {
            background: linear-gradient(to right, #ff4444, #cc0000);
            box-shadow: 0 6px 15px rgba(255, 0, 0, 0.6);
            transform: translateX(-50%) scale(1.05);
        }

        /* 金色画框 */
        .golden-frame {
            position: absolute;
            top: -10px; left: -10px; right: -10px; bottom: -10px;
            border: 4px solid #ffd700;
            border-radius: 12px;
            box-shadow: 
                0 0 15px #ffd700,
                inset 0 0 20px rgba(0,0,0,0.8);
            pointer-events: none;
            z-index: 30;
        }

        /* 图像本身 */
        .main-img {
            width: 100%;
            height: 100%;
            object-fit: cover; 
            object-position: top; 
            border-radius: 8px;
            filter: contrast(1.1) saturate(1.1);
        }

        /* 装饰用的光晕 */
        .glow-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(255,215,0,0.15) 0%, rgba(0,0,0,0) 70%);
            z-index: -1;
            animation: breathe 4s infinite ease-in-out;
        }

        @keyframes breathe {
            0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.8; transform: translate(-50%, -50%) scale(1.1); }
        }

        /* --- 模态框样式 --- */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .modal-content {
            background-color: #000;
            padding: 40px 60px;
            border-radius: 15px;
            border: 5px solid #ffdd00;
            box-shadow: 0 0 50px rgba(255, 0, 0, 1);
            text-align: center;
            animation: pulse 1s infinite alternate;
        }

        .modal-text {
            font-family: 'Ma Shan Zheng', cursive;
            font-size: 5rem;
            color: #ff0000;
            text-shadow: 0 0 20px #ffdd00, 0 0 10px #ff0000;
            line-height: 1.2;
            letter-spacing: 10px;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); opacity: 0.9; }
            100% { transform: scale(1.05); opacity: 1; }
        }
    </style>
</head>
<body>

    <!-- 动态背景 -->
    <canvas id="bg-canvas"></canvas>

    <div class="scene-container" id="scene">
        <!-- 核心内容区：已移除移动端布局变化，始终保持三栏 -->
        <div class="scene-content" id="content">
            
            <!-- 左侧卫士 -->
            <div class="guard-column col-left">
                <!-- 陆军 -->
                <div class="guard-card army">
                    <i class="fas fa-star guard-icon"></i>
                    <span class="guard-label">中国陆军</span>
                    <div class="text-xs text-gray-400 mt-1">守护祖国大地</div>
                </div>
                <!-- 空军 -->
                <div class="guard-card air">
                    <i class="fas fa-fighter-jet guard-icon"></i>
                    <span class="guard-label">中国空军</span>
                    <div class="text-xs text-gray-400 mt-1">守护祖国蓝天</div>
                </div>
                <!-- 海军 -->
                <div class="guard-card navy">
                    <i class="fas fa-anchor guard-icon"></i>
                    <span class="guard-label">中国海军</span>
                    <div class="text-xs text-gray-400 mt-1">守护祖国海疆</div>
                </div>
            </div>

            <!-- 中间：主席像与献花按钮 -->
            <div class="main-portrait-wrapper">
                <div class="glow-effect"></div>
                <div class="golden-frame"></div>
                <!-- 图像 -->
                <img src="https://img.remit.ee/api/file/BQACAgUAAyEGAASHRsPbAAEL0dZpLTQ6SaqipQ62P3FJrpWFARSwMwACPyEAAtXsaVULAZvOQlSWCTYE.jpg" 
                     alt="毛主席像" 
                     class="main-img"
                     onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/e/e8/Mao_Zedong_portrait.jpg'; this.onerror=null;"> 
                
                <!-- 献花按钮 -->
                <button class="flower-button" onclick="showModal()">
                    <i class="fas fa-hand-holding-heart mr-2"></i> 献上鲜花
                </button>
            </div>

            <!-- 右侧：人民英雄纪念碑造型 -->
            <div class="monument-column col-right">
                <div class="monument-cap">
                    <!-- 红色五角星 -->
                    <i class="fas fa-star"></i>
                </div>
                <div class="monument-shaft">
                    <!-- 毛体题词 -->
                    <h2 class="monument-inscription">人民英雄永垂不朽</h2>
                </div>
                <!-- 五星红旗底座 -->
                <div class="monument-base">
                    <div class="base-text">中华人民共和国</div>
                </div>
            </div>

        </div>
    </div>
    
    <!-- “人民万岁”模态框 -->
    <div class="modal" id="myModal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div class="modal-text">
                人民万岁
            </div>
        </div>
    </div>


    <script>
        // --- 诗词弹幕数据 ---
        const verses = [
            "一万年太久，只争朝夕", 
            "雄关漫道真如铁，而今迈步从头越", 
            "今日欢呼孙大圣，只缘妖雾又重来", 
            "天若有情天亦老，人间正道是沧桑", 
            "为有牺牲多壮志，敢叫日月换新天", 
            "恰同学少年，风华正茂", 
            "正西风落叶下成安，飞鸣镝", 
            "人生易老天难老，岁岁重阳", 
            "待到山花烂漫时，她在丛中笑", 
            "歌未竟，东方白", 
            "我失骄杨君失柳，杨柳轻飏直上重霄九", 
            "数风流人物，还看今朝", 
            "今日长缨在手，何时缚住苍龙", 
            "萧瑟秋风今又是，换了人间", 
            "唤起工农千百万，同心干，不周山下红旗乱", 
            "神女应无恙，当惊世界殊", 
            "可上九天揽月，可下五洋捉鳖", 
            "国际悲歌歌一首，狂飙为我从天落", 
            "山，快马加鞭未下鞍。惊回首，离天三尺三", 
            "烟雨莽苍苍，龟蛇锁大江", 
            "欲与天公试比高", 
            "坐地日行八万里，巡天遥看一千河", 
            "中华儿女多奇志，不爱红装爱武装", 
            "冷眼向洋看世界，热风吹雨洒江天", 
            "昨天文小姐，今日武将军", 
            "故地重来何所见，多了楼台亭阁", 
            "四海翻腾云水怒，五洲震荡风雷激", 
            "往事越千年，魏武挥鞭", 
            "世上无难事，只要肯登攀", 
            "大雨落幽燕，白浪滔天", 
            "自信人生二百年，会当击水三千里"
        ];
        
        // --- Canvas 动态背景逻辑 ---
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        
        let width, height;
        let particles = [];
        let danmakuList = [];
        const DANMAKU_COUNT = 20;

        function resize() {
            width = canvas.width = window.innerWidth;
            height = canvas.height = window.innerHeight;
            autoScale(); // 窗口大小改变时触发缩放
        }

        class Particle {
            constructor() { this.reset(); this.y = Math.random() * height; }
            reset() {
                this.x = Math.random() * width;
                this.y = height + 10;
                this.speed = Math.random() * 1 + 0.5;
                this.size = Math.random() * 2 + 1;
                this.opacity = Math.random() * 0.5 + 0.1;
                this.wobble = Math.random() * Math.PI * 2;
                this.wobbleSpeed = 0.02;
            }
            update() {
                this.y -= this.speed;
                this.wobble += this.wobbleSpeed;
                this.x += Math.sin(this.wobble) * 0.5;
                if (this.y < -10) this.reset();
            }
            draw() {
                ctx.save();
                ctx.translate(this.x, this.y);
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = '#ffd700';
                ctx.beginPath();
                for (let i = 0; i < 5; i++) {
                    ctx.lineTo(Math.cos((18 + i * 72) * Math.PI / 180) * this.size, 
                               -Math.sin((18 + i * 72) * Math.PI / 180) * this.size);
                    ctx.lineTo(Math.cos((54 + i * 72) * Math.PI / 180) * (this.size * 0.4), 
                               -Math.sin((54 + i * 72) * Math.PI / 180) * (this.size * 0.4));
                }
                ctx.closePath();
                ctx.fill();
                ctx.restore();
            }
        }
        
        class Danmaku {
            constructor() { this.reset(); this.x = Math.random() * width; }
            reset() {
                this.text = verses[Math.floor(Math.random() * verses.length)];
                this.y = Math.random() * (height * 0.8) + (height * 0.1); 
                this.speed = Math.random() * 0.5 + 0.5;
                this.opacity = Math.random() * 0.2 + 0.05;
                this.fontSize = Math.random() * 8 + 20;
                this.x = width + Math.random() * width; 
            }
            update() {
                this.x -= this.speed;
                ctx.font = `${this.fontSize}px 'Noto Serif SC', serif`;
                if (this.x < -ctx.measureText(this.text).width) this.reset();
            }
            draw() {
                ctx.save();
                ctx.globalAlpha = this.opacity;
                ctx.fillStyle = '#FFDD55';
                ctx.font = `${this.fontSize}px 'Noto Serif SC', serif`;
                ctx.fillText(this.text, this.x, this.y);
                ctx.restore();
            }
        }

        function initParticles() {
            particles = [];
            for (let i = 0; i < 100; i++) { particles.push(new Particle()); }
        }
        
        function initDanmaku() {
            danmakuList = [];
            for (let i = 0; i < DANMAKU_COUNT; i++) { danmakuList.push(new Danmaku()); }
        }

        function animate() {
            ctx.clearRect(0, 0, width, height);
            const gradient = ctx.createLinearGradient(width/2, height, width/2, 0);
            gradient.addColorStop(0, 'rgba(255, 0, 0, 0.1)');
            gradient.addColorStop(1, 'rgba(0, 0, 0, 0)');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            danmakuList.forEach(d => { d.update(); d.draw(); });
            particles.forEach(p => { p.update(); p.draw(); });
            requestAnimationFrame(animate);
        }

        function showModal() { document.getElementById('myModal').style.display = 'flex'; }
        function closeModal() { document.getElementById('myModal').style.display = 'none'; }

        // --- 核心修改：自动缩放逻辑，确保手机和电脑显示一致 ---
        const content = document.getElementById('content');
        const container = document.getElementById('scene');
        
        // 定义设计稿的基础宽度 (三栏布局的大致宽度 + 间隙)
        // 左(140) + 隙(40) + 中(350) + 隙(40) + 右(120) + 额外padding = 约 750px
        const BASE_WIDTH = 780; 

        function autoScale() {
            const winWidth = window.innerWidth;
            const winHeight = window.innerHeight;
            
            // 计算缩放比例
            // 如果屏幕比内容窄，就缩小；如果屏幕够宽，保持1或稍微放大一点点
            let scale = Math.min(winWidth / BASE_WIDTH, 1.2);
            
            // 确保高度也能容纳下 (主要是为了防止竖屏时过大)
            // 基础高度约为 600px
            const BASE_HEIGHT = 650;
            if (winHeight / BASE_HEIGHT < scale) {
                scale = winHeight / BASE_HEIGHT;
            }

            // 保持最小缩放，避免太小看不清，但为了保持完整布局，这里允许更小
            // 应用缩放
            content.style.transform = `scale(${scale})`;
            
            // 在缩放基础上应用 3D 旋转 (如果不处于交互状态)
            if (!isInteracting) {
                content.style.transform += ` rotateY(0deg) rotateX(0deg)`;
            }
        }

        window.addEventListener('resize', () => {
            resize();
            initParticles();
            initDanmaku();
        });

        // --- 交互逻辑 (支持鼠标和触摸) ---
        let isInteracting = false;

        function handleMove(x, y) {
            isInteracting = true;
            const xAxis = (window.innerWidth / 2 - x) / 50;
            const yAxis = (window.innerHeight / 2 - y) / 50;
            
            // 获取当前的缩放比例，保留它
            const winWidth = window.innerWidth;
            const winHeight = window.innerHeight;
            let currentScale = Math.min(winWidth / BASE_WIDTH, 1.2);
            const BASE_HEIGHT = 650;
            if (winHeight / BASE_HEIGHT < currentScale) currentScale = winHeight / BASE_HEIGHT;

            content.style.transform = `scale(${currentScale}) rotateY(${xAxis}deg) rotateX(${yAxis}deg)`;
        }

        function resetTransform() {
            isInteracting = false;
            autoScale(); // 恢复到仅缩放的状态
        }

        // 鼠标事件
        container.addEventListener('mousemove', (e) => handleMove(e.pageX, e.pageY));
        container.addEventListener('mouseleave', resetTransform);

        // 触摸事件 (适配手机端交互)
        container.addEventListener('touchmove', (e) => {
            e.preventDefault(); // 防止滚动
            const touch = e.touches[0];
            handleMove(touch.pageX, touch.pageY);
        }, { passive: false });
        
        container.addEventListener('touchend', resetTransform);

        // 初始化
        resize();
        initParticles();
        initDanmaku();
        animate();
        autoScale(); // 初始调用

    </script>
</body>
</html>